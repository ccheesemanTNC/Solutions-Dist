"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getUniqueGroupTitle = void 0;
const does_group_exist_1 = require("./does-group-exist");
/**
 * Given a title, construct a group title that is unique
 * in the user's org.
 * Given a title of "Medical Team", if a group with that title exists
 * this fn will add a number on the end, and increment until
 * an available group title is found - i.e. "Medical Team 3"
 * @param {String} title Group Title to ensure if unique
 * @param {IHubRequestOptions} hubRequestOptions
 * @param {Number} step Number to increment. Defaults to 0
 */
function getUniqueGroupTitle(title, hubRequestOptions, step = 0) {
    let combinedName = title;
    if (step) {
        combinedName = `${title} ${step}`;
    }
    return does_group_exist_1.doesGroupExist(combinedName, hubRequestOptions)
        .then(result => {
        if (result) {
            step++;
            return getUniqueGroupTitle(title, hubRequestOptions, step);
        }
        else {
            return combinedName;
        }
    })
        .catch(err => {
        throw Error(`Error in team-utils::getUniqueGroupTitle ${err}`);
    });
}
exports.getUniqueGroupTitle = getUniqueGroupTitle;
//# sourceMappingURL=get-unique-group-title.js.map