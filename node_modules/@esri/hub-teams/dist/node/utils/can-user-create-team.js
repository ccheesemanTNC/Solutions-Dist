"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.canUserCreateTeam = void 0;
const hub_common_1 = require("@esri/hub-common");
const get_user_creatable_teams_1 = require("./get-user-creatable-teams");
/**
 * Determine if the current user can create a specific type of team
 * @param {Object} user Current User
 * @param {HubTeamType} hubTeamType
 * @param {*} hubRequestOptions
 */
function canUserCreateTeam(user, hubTeamType, hubRequestOptions) {
    const userGroups = hub_common_1.getProp(user, "groups") || [];
    if (userGroups.length > 510) {
        return false;
    }
    else {
        const portalSelf = hubRequestOptions.portalSelf;
        const product = hub_common_1.getHubProduct(portalSelf);
        const subscriptionType = hub_common_1.getSubscriptionType(portalSelf);
        // get all the groups the user can create in this product...
        return get_user_creatable_teams_1.getUserCreatableTeams(user, product, portalSelf.currentVersion, subscriptionType).some((t) => t.config.type === hubTeamType);
    }
}
exports.canUserCreateTeam = canUserCreateTeam;
//# sourceMappingURL=can-user-create-team.js.map