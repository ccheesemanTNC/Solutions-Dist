"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.canUserCreateTeamInProduct = void 0;
const has_all_privileges_1 = require("./has-all-privileges");
const hub_common_1 = require("@esri/hub-common");
/**
 * Predicate for filtering group templates based on product
 * and user privs required.
 * Param order is optimized for partial application
 * @param {object} user
 * @param {string} product basic, premium, portal
 * @param {object} template Team (group) template
 */
function canUserCreateTeamInProduct(user, product, template) {
    let result = false;
    const userGroups = hub_common_1.getProp(user, "groups") || [];
    // can this be created in the current environment?
    if (userGroups.length < 507 &&
        hub_common_1.includes(template.config.availableIn, product)) {
        // and user has required privs...
        result = has_all_privileges_1.hasAllPrivileges(user, template.config.requiredPrivs);
    }
    return result;
}
exports.canUserCreateTeamInProduct = canUserCreateTeamInProduct;
//# sourceMappingURL=can-user-create-team-in-product.js.map