import { __awaiter, __generator } from "tslib";
import { removeGroup, unprotectGroup } from "@esri/arcgis-rest-portal";
/**
 * removeTeam unprotects a group, then deletes it
 *
 * @export
 * @param {string} id Team Id
 * @param {UserSession} authentication authentication
 * @return {*}  {Promise<{groupId: string; success: boolean}>}
 */
export function removeTeam(id, authentication) {
    return __awaiter(this, void 0, void 0, function () {
        var unprotectResult;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, unprotectGroup({ id: id, authentication: authentication })];
                case 1:
                    unprotectResult = _a.sent();
                    // If that succeeded...
                    return [2 /*return*/, unprotectResult.success
                            // Remove it.
                            ? removeGroup({ id: id, authentication: authentication })
                            // Otherwise return a fail state
                            : { groupId: id, success: false }];
            }
        });
    });
}
//# sourceMappingURL=remove-team.js.map