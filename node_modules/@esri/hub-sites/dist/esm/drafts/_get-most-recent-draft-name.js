import { getDraftDate } from "./get-draft-date";
import { _getDraftResourceNames } from "./_get-draft-resource-names";
/**
 * Gets the name of the most recent resource for the current draft.
 * NOTE: There _should_ only be one, but sometimes it gets messed up.
 * @param siteOrPageId
 * @param hubRequestOptions
 * @private
 */
export function _getMostRecentDraftName(siteOrPageId, hubRequestOptions) {
    return _getDraftResourceNames(siteOrPageId, hubRequestOptions).then(function (draftNames) {
        if (!draftNames.length)
            return null;
        var dates = draftNames.map(function (name) { return [name, getDraftDate(name)]; });
        dates.sort(function (_a, _b) {
            var _ = _a[0], dateA = _a[1];
            var __ = _b[0], dateB = _b[1];
            if (dateB > dateA) {
                return 1;
            }
            else if (dateA > dateB) {
                return -1;
            }
            else {
                return 0;
            }
        });
        return dates[0][0];
    });
}
//# sourceMappingURL=_get-most-recent-draft-name.js.map